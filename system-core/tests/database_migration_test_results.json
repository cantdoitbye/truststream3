{
  "test_summary": {
    "start_time": "2025-09-21T09:12:30.781022",
    "test_focus": "Database Schema, Migrations, and Data Integrity",
    "total_execution_time": 9.518059015274048,
    "end_time": "2025-09-21T09:12:40.299083",
    "overall_results": {
      "total_tests": 0,
      "passed_tests": 0,
      "failed_tests": 0,
      "success_rate": 0.0,
      "overall_health": "needs_assessment"
    }
  },
  "test_phases": {
    "migration_analysis": {
      "total_migration_files": 82,
      "analyzed_files": [
        {
          "file": "1757786380_seed_phase4_llm_nexus_data.sql",
          "size_bytes": 12083,
          "line_count": 133,
          "contains_ddl": false,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757786439_seed_phase4_llm_nexus_data_fixed.sql",
          "size_bytes": 12018,
          "line_count": 133,
          "contains_ddl": false,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757786486_seed_phase4_llm_nexus_data_final.sql",
          "size_bytes": 9031,
          "line_count": 97,
          "contains_ddl": false,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757791281_create_enterprise_ai_infrastructure.sql",
          "size_bytes": 5054,
          "line_count": 117,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757791324_create_enterprise_ai_infrastructure_corrected.sql",
          "size_bytes": 5046,
          "line_count": 117,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757791449_create_ooumph_integration_tables.sql",
          "size_bytes": 1987,
          "line_count": 47,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757792019_create_ai_providers_infrastructure.sql",
          "size_bytes": 6694,
          "line_count": 122,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757792071_create_ai_providers_infrastructure_corrected.sql",
          "size_bytes": 6707,
          "line_count": 122,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757793441_create_agent_registry_table.sql",
          "size_bytes": 1131,
          "line_count": 28,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757793453_create_agent_registry_fixed.sql",
          "size_bytes": 988,
          "line_count": 28,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757793541_create_synthetic_data_infrastructure.sql",
          "size_bytes": 5780,
          "line_count": 132,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757798171_seed_trust_analytics_data.sql",
          "size_bytes": 12056,
          "line_count": 213,
          "contains_ddl": false,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757798214_seed_trust_analytics_data_fixed.sql",
          "size_bytes": 6808,
          "line_count": 113,
          "contains_ddl": false,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": false
        },
        {
          "file": "1757798559_seed_trust_analytics_data_fixed.sql",
          "size_bytes": 5911,
          "line_count": 147,
          "contains_ddl": false,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757798857_create_multi_ai_infrastructure.sql",
          "size_bytes": 12871,
          "line_count": 262,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757798934_create_missing_multi_ai_tables.sql",
          "size_bytes": 9169,
          "line_count": 187,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757799252_create_multi_ai_schemas.sql",
          "size_bytes": 4888,
          "line_count": 118,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757799531_enable_ai_usage_logs_access.sql",
          "size_bytes": 868,
          "line_count": 25,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757800433_populate_ai_providers_and_models.sql",
          "size_bytes": 4132,
          "line_count": 121,
          "contains_ddl": false,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757800450_populate_existing_ai_providers.sql",
          "size_bytes": 1073,
          "line_count": 22,
          "contains_ddl": false,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757800469_populate_correct_ai_providers.sql",
          "size_bytes": 1521,
          "line_count": 29,
          "contains_ddl": false,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757801538_create_ai_training_infrastructure.sql",
          "size_bytes": 21597,
          "line_count": 435,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757801730_create_ai_training_infrastructure_corrected.sql",
          "size_bytes": 19208,
          "line_count": 411,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757801801_create_ai_training_infrastructure_simple.sql",
          "size_bytes": 7867,
          "line_count": 177,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757803259_phase_4_enhanced_trust_vibe_system.sql",
          "size_bytes": 17020,
          "line_count": 332,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757805406_create_production_monitoring_infrastructure.sql",
          "size_bytes": 11264,
          "line_count": 266,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757805407_create_gdpr_compliance_infrastructure.sql",
          "size_bytes": 15823,
          "line_count": 337,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757807846_create_production_monitoring_infrastructure.sql",
          "size_bytes": 5997,
          "line_count": 147,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757807867_create_production_monitoring_infrastructure_fixed.sql",
          "size_bytes": 5443,
          "line_count": 135,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757807905_create_missing_production_monitoring_tables.sql",
          "size_bytes": 7140,
          "line_count": 173,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757808307_create_gdpr_compliance_infrastructure.sql",
          "size_bytes": 8658,
          "line_count": 170,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757812694_create_production_monitoring_infrastructure.sql",
          "size_bytes": 11350,
          "line_count": 269,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757813018_create_advanced_ai_infrastructure.sql",
          "size_bytes": 21955,
          "line_count": 428,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757813178_create_advanced_ai_infrastructure_corrected.sql",
          "size_bytes": 22066,
          "line_count": 437,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757817392_create_advanced_ai_analytics_tables.sql",
          "size_bytes": 8522,
          "line_count": 203,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757820820_fix_ai_performance_schema_and_add_missing_tables.sql",
          "size_bytes": 7999,
          "line_count": 208,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757821001_add_is_active_to_predictive_models.sql",
          "size_bytes": 163,
          "line_count": 4,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757821016_add_trained_at_to_predictive_models.sql",
          "size_bytes": 169,
          "line_count": 4,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757821084_fix_nlp_analysis_results_schema.sql",
          "size_bytes": 349,
          "line_count": 9,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757821095_add_text_input_to_nlp_results.sql",
          "size_bytes": 146,
          "line_count": 4,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757821147_add_metadata_to_performance_metrics.sql",
          "size_bytes": 153,
          "line_count": 4,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757821157_add_performance_score_to_metrics.sql",
          "size_bytes": 166,
          "line_count": 4,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1757822377_enable_pgvector_and_update_policies.sql",
          "size_bytes": 4368,
          "line_count": 158,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758229617_truststream_v4_inter_layer_management.sql",
          "size_bytes": 18049,
          "line_count": 400,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758229678_truststream_v4_inter_layer_management_fixed.sql",
          "size_bytes": 15007,
          "line_count": 370,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758229730_truststream_v4_core_tables.sql",
          "size_bytes": 11405,
          "line_count": 317,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758230558_enhance_existing_agent_registry.sql",
          "size_bytes": 1825,
          "line_count": 35,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758230567_enhance_existing_agent_registry_fixed.sql",
          "size_bytes": 1567,
          "line_count": 30,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758230585_enhance_coordination_sessions_table.sql",
          "size_bytes": 1450,
          "line_count": 28,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758232902_truststream_v4_vectorgraph_architecture.sql",
          "size_bytes": 16867,
          "line_count": 389,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": true,
          "rollback_safe": true
        },
        {
          "file": "1758235603_create_community_agents_v4.sql",
          "size_bytes": 744,
          "line_count": 18,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758235609_create_community_agent_activities.sql",
          "size_bytes": 474,
          "line_count": 13,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758235616_create_content_curation_data.sql",
          "size_bytes": 694,
          "line_count": 18,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758235623_create_opportunity_management.sql",
          "size_bytes": 737,
          "line_count": 20,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758235630_create_compliance_monitoring.sql",
          "size_bytes": 701,
          "line_count": 18,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758236146_create_marketing_tables.sql",
          "size_bytes": 1540,
          "line_count": 46,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758236489_create_compliance_tables.sql",
          "size_bytes": 2339,
          "line_count": 71,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758236705_create_content_seeder_tables.sql",
          "size_bytes": 1963,
          "line_count": 58,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758236953_create_opportunity_curator_tables.sql",
          "size_bytes": 2643,
          "line_count": 16,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": true,
          "rollback_safe": true
        },
        {
          "file": "1758236965_create_opportunity_curator_tables.sql",
          "size_bytes": 2554,
          "line_count": 72,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": true,
          "rollback_safe": true
        },
        {
          "file": "1758236977_create_opportunity_curator_core_tables.sql",
          "size_bytes": 2230,
          "line_count": 68,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758237000_create_curated_opportunities_table.sql",
          "size_bytes": 1027,
          "line_count": 29,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758239811_create_vectorgraph_versioning_audit_system.sql",
          "size_bytes": 18385,
          "line_count": 428,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758244855_add_vector_embeddings_table.sql",
          "size_bytes": 541,
          "line_count": 14,
          "contains_ddl": true,
          "contains_dml": false,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758245112_enable_pgvector_and_update_policies.sql",
          "size_bytes": 4445,
          "line_count": 161,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758252127_create_workflow_automation_infrastructure.sql",
          "size_bytes": 10207,
          "line_count": 234,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758253606_add_mcp_a2a_agent_discovery_system.sql",
          "size_bytes": 17847,
          "line_count": 473,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758257127_add_economic_layer_schema.sql",
          "size_bytes": 11746,
          "line_count": 245,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758257282_create_economic_ai_layer.sql",
          "size_bytes": 14960,
          "line_count": 316,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758257353_create_economic_ai_layer.sql",
          "size_bytes": 15027,
          "line_count": 319,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758257451_create_economic_ai_layer_v2.sql",
          "size_bytes": 16952,
          "line_count": 328,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758258376_create_unified_knowledge_base.sql",
          "size_bytes": 19739,
          "line_count": 383,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758370000_economic_ai_integration_tables.sql",
          "size_bytes": 16776,
          "line_count": 361,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1758400000_add_governance_llm_integration.sql",
          "size_bytes": 16170,
          "line_count": 315,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "1759999999_create_workflow_automation_infrastructure.sql",
          "size_bytes": 20632,
          "line_count": 525,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": false
        },
        {
          "file": "2025092008_create_autonomous_agent_ecosystem.sql",
          "size_bytes": 13595,
          "line_count": 276,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": true,
          "rollback_safe": true
        },
        {
          "file": "2025092008_rag_agent_infrastructure.sql",
          "size_bytes": 14282,
          "line_count": 310,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "20250920103053_daughter_community_schema.sql",
          "size_bytes": 15732,
          "line_count": 299,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "20250920105115_inter_agent_knowledge_sharing_network.sql",
          "size_bytes": 28098,
          "line_count": 489,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "20250920151208_ai_leader_accountability_agent_schema.sql",
          "size_bytes": 18140,
          "line_count": 368,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": true,
          "contains_foreign_keys": false,
          "rollback_safe": true
        },
        {
          "file": "mcp_a2a_governance_integration.sql",
          "size_bytes": 22747,
          "line_count": 511,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": false
        },
        {
          "file": "enhanced_trust_scoring_schema.sql",
          "size_bytes": 10570,
          "line_count": 264,
          "contains_ddl": true,
          "contains_dml": true,
          "contains_constraints": false,
          "contains_foreign_keys": false,
          "rollback_safe": true
        }
      ],
      "syntax_errors": [],
      "warnings": []
    },
    "schema_validation": {
      "tables_validated": 7,
      "validation_results": [
        {
          "table": "communities",
          "accessible": false,
          "status_code": 500,
          "has_rls": false,
          "response_time": 0.371673,
          "error": "{\"code\":\"42P17\",\"details\":null,\"hint\":null,\"message\":\"infinite recursion detected in policy for relation \\\"communities\\\"\"}"
        },
        {
          "table": "ai_agents",
          "accessible": true,
          "status_code": 200,
          "has_rls": false,
          "response_time": 0.354143,
          "sample_data_available": true
        },
        {
          "table": "agent_workflows",
          "accessible": true,
          "status_code": 200,
          "has_rls": false,
          "response_time": 0.828978,
          "sample_data_available": true
        },
        {
          "table": "llm_providers",
          "accessible": true,
          "status_code": 200,
          "has_rls": false,
          "response_time": 0.8453,
          "sample_data_available": true
        },
        {
          "table": "governance_activity_logs",
          "accessible": true,
          "status_code": 200,
          "has_rls": false,
          "response_time": 0.448599,
          "sample_data_available": true
        },
        {
          "table": "community_governance_proposals",
          "accessible": true,
          "status_code": 200,
          "has_rls": false,
          "response_time": 0.892637,
          "sample_data_available": false
        },
        {
          "table": "agent_coordination_sessions",
          "accessible": true,
          "status_code": 200,
          "has_rls": false,
          "response_time": 0.327253,
          "sample_data_available": false
        },
        {
          "table": "trust_scores",
          "accessible": true,
          "status_code": 200,
          "has_rls": false,
          "response_time": 0.329945,
          "sample_data_available": false
        }
      ],
      "schema_consistency": false,
      "critical_tables": [
        "communities",
        "ai_agents",
        "agent_workflows",
        "llm_providers",
        "governance_activity_logs",
        "community_governance_proposals",
        "agent_coordination_sessions",
        "trust_scores"
      ]
    },
    "table_testing": {
      "structure_tests": [
        {
          "table": "ai_agents",
          "accessible": true,
          "columns_testable": true,
          "relationships_validated": 2,
          "columns_present": [
            "id",
            "name",
            "status",
            "created_at"
          ],
          "missing_columns": [
            "type"
          ]
        },
        {
          "table": "communities",
          "accessible": false,
          "columns_testable": true,
          "relationships_validated": 2
        },
        {
          "table": "agent_workflows",
          "accessible": true,
          "columns_testable": true,
          "relationships_validated": 1,
          "columns_present": [
            "id",
            "workflow_name",
            "status"
          ],
          "missing_columns": [
            "agent_id"
          ]
        }
      ],
      "relationship_tests": [],
      "constraint_tests": []
    },
    "integrity_testing": {
      "integrity_checks": [
        {
          "test": "Agent Status Consistency",
          "description": "Verify all agents have valid status values",
          "passed": false,
          "records_checked": 15,
          "endpoint": "ai_agents"
        },
        {
          "test": "Community Member Count Validity",
          "passed": false,
          "error": "HTTP 500: {\"code\":\"42P17\",\"details\":null,\"hint\":null,\"message\":\"infinite recursion detected in policy for rela"
        },
        {
          "test": "Timestamp Validity",
          "description": "Verify all timestamps are valid and not null",
          "passed": false,
          "records_checked": 14,
          "endpoint": "governance_activity_logs"
        }
      ],
      "constraint_violations": [],
      "data_quality_score": 0.0
    },
    "performance_testing": {
      "performance_tests": [
        {
          "test": "Agent Lookup Performance",
          "query_time": 0.8078992366790771,
          "expected_max_time": 1.0,
          "performance_good": true,
          "status_code": 200,
          "records_returned": 15
        },
        {
          "test": "Community Search Performance",
          "query_time": 0.32503318786621094,
          "expected_max_time": 1.5,
          "performance_good": true,
          "status_code": 500,
          "records_returned": 0
        },
        {
          "test": "Governance Log Query Performance",
          "query_time": 0.8544015884399414,
          "expected_max_time": 2.0,
          "performance_good": true,
          "status_code": 200,
          "records_returned": 14
        }
      ],
      "slow_queries": [],
      "optimization_recommendations": []
    },
    "rollback_testing": {
      "rollback_analysis": [
        {
          "file": "1757786380_seed_phase4_llm_nexus_data.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757786439_seed_phase4_llm_nexus_data_fixed.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757786486_seed_phase4_llm_nexus_data_final.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757791281_create_enterprise_ai_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757791324_create_enterprise_ai_infrastructure_corrected.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757791449_create_ooumph_integration_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757792019_create_ai_providers_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757792071_create_ai_providers_infrastructure_corrected.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757793441_create_agent_registry_table.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757793453_create_agent_registry_fixed.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757793541_create_synthetic_data_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757798171_seed_trust_analytics_data.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757798214_seed_trust_analytics_data_fixed.sql",
          "rollback_safe": false,
          "risky_operations": [
            "DATA_DELETE"
          ],
          "has_down_migration": false,
          "data_destructive": true
        },
        {
          "file": "1757798559_seed_trust_analytics_data_fixed.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757798857_create_multi_ai_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757798934_create_missing_multi_ai_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757799252_create_multi_ai_schemas.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757799531_enable_ai_usage_logs_access.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757800433_populate_ai_providers_and_models.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757800450_populate_existing_ai_providers.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757800469_populate_correct_ai_providers.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757801538_create_ai_training_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757801730_create_ai_training_infrastructure_corrected.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757801801_create_ai_training_infrastructure_simple.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757803259_phase_4_enhanced_trust_vibe_system.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757805406_create_production_monitoring_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757805407_create_gdpr_compliance_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757807846_create_production_monitoring_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757807867_create_production_monitoring_infrastructure_fixed.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757807905_create_missing_production_monitoring_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757808307_create_gdpr_compliance_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757812694_create_production_monitoring_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757813018_create_advanced_ai_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757813178_create_advanced_ai_infrastructure_corrected.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757817392_create_advanced_ai_analytics_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757820820_fix_ai_performance_schema_and_add_missing_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757821001_add_is_active_to_predictive_models.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757821016_add_trained_at_to_predictive_models.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757821084_fix_nlp_analysis_results_schema.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757821095_add_text_input_to_nlp_results.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757821147_add_metadata_to_performance_metrics.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757821157_add_performance_score_to_metrics.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1757822377_enable_pgvector_and_update_policies.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758229617_truststream_v4_inter_layer_management.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758229678_truststream_v4_inter_layer_management_fixed.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758229730_truststream_v4_core_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758230558_enhance_existing_agent_registry.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758230567_enhance_existing_agent_registry_fixed.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758230585_enhance_coordination_sessions_table.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758232902_truststream_v4_vectorgraph_architecture.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758235603_create_community_agents_v4.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758235609_create_community_agent_activities.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758235616_create_content_curation_data.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758235623_create_opportunity_management.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758235630_create_compliance_monitoring.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758236146_create_marketing_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758236489_create_compliance_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758236705_create_content_seeder_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758236953_create_opportunity_curator_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758236965_create_opportunity_curator_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758236977_create_opportunity_curator_core_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758237000_create_curated_opportunities_table.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758239811_create_vectorgraph_versioning_audit_system.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758244855_add_vector_embeddings_table.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758245112_enable_pgvector_and_update_policies.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758252127_create_workflow_automation_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758253606_add_mcp_a2a_agent_discovery_system.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758257127_add_economic_layer_schema.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758257282_create_economic_ai_layer.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758257353_create_economic_ai_layer.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758257451_create_economic_ai_layer_v2.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758258376_create_unified_knowledge_base.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758370000_economic_ai_integration_tables.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1758400000_add_governance_llm_integration.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "1759999999_create_workflow_automation_infrastructure.sql",
          "rollback_safe": false,
          "risky_operations": [
            "DATA_DELETE"
          ],
          "has_down_migration": false,
          "data_destructive": true
        },
        {
          "file": "2025092008_create_autonomous_agent_ecosystem.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "2025092008_rag_agent_infrastructure.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "20250920103053_daughter_community_schema.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "20250920105115_inter_agent_knowledge_sharing_network.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "20250920151208_ai_leader_accountability_agent_schema.sql",
          "rollback_safe": true,
          "risky_operations": [],
          "has_down_migration": false,
          "data_destructive": false
        },
        {
          "file": "mcp_a2a_governance_integration.sql",
          "rollback_safe": false,
          "risky_operations": [
            "DATA_DELETE"
          ],
          "has_down_migration": false,
          "data_destructive": true
        }
      ],
      "risky_migrations": [
        {
          "file": "1757798214_seed_trust_analytics_data_fixed.sql",
          "rollback_safe": false,
          "risky_operations": [
            "DATA_DELETE"
          ],
          "has_down_migration": false,
          "data_destructive": true
        },
        {
          "file": "1759999999_create_workflow_automation_infrastructure.sql",
          "rollback_safe": false,
          "risky_operations": [
            "DATA_DELETE"
          ],
          "has_down_migration": false,
          "data_destructive": true
        },
        {
          "file": "mcp_a2a_governance_integration.sql",
          "rollback_safe": false,
          "risky_operations": [
            "DATA_DELETE"
          ],
          "has_down_migration": false,
          "data_destructive": true
        }
      ],
      "rollback_readiness_score": 96.29629629629629
    }
  }
}